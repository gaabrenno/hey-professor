NC='\033[0m'
BBlue='\033[1;34m'
BRed='\033[1;31m'

REGEX_ISSUE_ID="a-zA-Z0-9,\.\_\-]+-[0-9]+"
BRANCH_NAME=$(git symbolic-ref --short HEAD)
ISSUE_ID=$(echo $BRANCH_NAME | grep -oE $REGEX_ISSUE_ID)
COMMIT_MESSAGE=&(cat "$1")

if [ -z "$ISSUE_ID" ]; then
	echo -e "${BRed}Error: No issue id found in branch name. Please name your branch with issue id.${NC}"
	exit 1
fi

if[[ $COMMIT_MESSAGE != *$ISSUE_ID* ]]; then
	echo 0 
fi

echo "$ISSUE_ID: $COMMIT_MESSAGE" > $1